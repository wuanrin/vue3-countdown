(function(){"use strict";var n={646:function(n,e,t){var o=t(9242),r=t(5767),a=t.n(r),u=t(3396);const s=["disabled"];function c(n,e,t,o,r,a){return(0,u.wg)(),(0,u.iD)("button",{class:"button",disabled:t.disabled,onClick:e[0]||(e[0]=e=>n.$emit("click",e))},[(0,u.WI)(n.$slots,"default")],8,s)}var l={name:"AppButton",props:{disabled:Boolean}},d=t(89);const i=(0,d.Z)(l,[["render",c]]);var m=i,f=t(7139);const p={class:"source-code"},w=["innerHTML"];function v(n,e,t,o,r,a){return(0,u.wg)(),(0,u.iD)("pre",p,[(0,u._)("code",{ref:"code",class:(0,f.C_)(`language-${t.lang}`),innerHTML:o.html},null,10,w)])}var g=t(4870),h=t(1795),C=t(6774),b=t(9384);h.Z.registerLanguage("javascript",C.Z),h.Z.registerLanguage("xml",b.Z);var k={name:"SourceCode",props:{lang:String,code:String},setup(n){const e=(0,g.iH)("");return(0,u.bv)((()=>{e.value=h.Z.highlight(n.code,{language:n.lang}).value})),{html:e}}};const y=(0,d.Z)(k,[["render",v]]);var _=y;const D={class:"demo-block"},H={key:0,class:"demo-block__title"},W={class:"demo-block__content"},x={class:"demo-block__code"};function S(n,e,t,o,r,a){return(0,u.wg)(),(0,u.iD)("div",D,[t.title?((0,u.wg)(),(0,u.iD)("h3",H,(0,f.zw)(t.title),1)):(0,u.kq)("",!0),(0,u._)("div",W,[(0,u.WI)(n.$slots,"default",{},void 0,!0)]),(0,u._)("div",x,[(0,u.WI)(n.$slots,"code",{},void 0,!0)])])}var j={name:"DemoBlock",props:{title:String}};const T=(0,d.Z)(j,[["render",S],["__scopeId","data-v-5e5adc4a"]]);var O=T;function B(n){n.component(a().name,a()),n.component(m.name,m),n.component(_.name,_),n.component(O.name,O)}function Z(n,e,t,o,r,a){const s=(0,u.up)("countdown-demo");return(0,u.wg)(),(0,u.j4)(s)}const F={class:"page"},M=(0,u._)("h2",{class:"page-title"},"Vue3Countdown Examples",-1);function $(n,e,t,o,r,a){const s=(0,u.up)("demo-basic"),c=(0,u.up)("demo-custom-format"),l=(0,u.up)("demo-custom-style"),d=(0,u.up)("demo-masual-control"),i=(0,u.up)("demo-second-countdown"),m=(0,u.up)("demo-countdown-events");return(0,u.wg)(),(0,u.iD)("div",F,[M,(0,u.Wm)(s),(0,u.Wm)(c),(0,u.Wm)(l),(0,u.Wm)(d),(0,u.Wm)(i),(0,u.Wm)(m)])}function U(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("source-code"),l=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(l,{title:"Basic Usage"},{code:(0,u.w5)((()=>[(0,u.Wm)(c,{lang:"xml",code:r.code},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(s,{time:108e6})])),_:1})}var E={name:"DemoBasic",data(){return{code:'<countdown :time="30 * 60 * 60 * 1000" />'}}};const I=(0,d.Z)(E,[["render",U]]);var P=I;function z(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("source-code"),l=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(l,{title:"Custom Format"},{code:(0,u.w5)((()=>[(0,u.Wm)(c,{lang:"xml",code:r.code},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(s,{time:108e6,format:"DD ~Day, HH:mm:ss"})])),_:1})}var A={name:"DemoCustomFormat",data(){return{code:'<countdown\n  :time="30 * 60 * 60 * 1000"\n  format="DD ~Day, HH:mm:ss"\n/>'}}};const L=(0,d.Z)(A,[["render",z]]);var R=L;const Y={class:"countdown-item"},q=(0,u.Uk)(" : "),N={class:"countdown-item"},V=(0,u.Uk)(" : "),G={class:"countdown-item"};function J(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("source-code"),l=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(l,{title:"Custom Style"},{code:(0,u.w5)((()=>[(0,u.Wm)(c,{lang:"xml",code:r.code},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(s,{time:108e6,format:"HH:mm:ss"},{default:(0,u.w5)((({resolved:n})=>[(0,u._)("span",Y,(0,f.zw)(n.HH),1),q,(0,u._)("span",N,(0,f.zw)(n.mm),1),V,(0,u._)("span",G,(0,f.zw)(n.ss),1)])),_:1})])),_:1})}const K='<template>\n  <countdown :time="30 * 60 * 60 * 1000" format="HH:mm:ss">\n    <template #="{ resolved }">\n      <span class="countdown-item">{{ resolved.HH }}</span> :\n      <span class="countdown-item">{{ resolved.mm }}</span> :\n      <span class="countdown-item">{{ resolved.ss }}</span>\n    </template>\n  </countdown>\n</template>\n<style>\n.countdown-item {\n  padding: 3px 6px;\n  border-radius: 3px;\n  color: #fff;\n  background-color: #c00;\n}\n</style>';var Q={name:"DemoCustomStyle",data(){return{code:K}}};const X=(0,d.Z)(Q,[["render",J]]);var nn=X;const en={class:"control-buttons"},tn=(0,u.Uk)("Start"),on=(0,u.Uk)("Pause"),rn=(0,u.Uk)("Reset");function an(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("AppButton"),l=(0,u.up)("source-code"),d=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(d,{title:"Masual Control"},{code:(0,u.w5)((()=>[(0,u.Wm)(l,{lang:"xml",code:o.templateCode},null,8,["code"]),(0,u.Wm)(l,{lang:"javascript",code:o.scriptCode},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(s,{ref:"countdown",time:108e6,"auto-start":!1},null,512),(0,u._)("div",en,[(0,u.Wm)(c,{onClick:o.start},{default:(0,u.w5)((()=>[tn])),_:1},8,["onClick"]),(0,u.Wm)(c,{onClick:o.pause},{default:(0,u.w5)((()=>[on])),_:1},8,["onClick"]),(0,u.Wm)(c,{onClick:o.reset},{default:(0,u.w5)((()=>[rn])),_:1},8,["onClick"])])])),_:1})}const un='<countdown\n  ref="countdown"\n  :time="30 * 60 * 60 * 1000"\n  :auto-start="false"\n/>\n<div class="control-buttons">\n  <Button @click="start">Start</Button>\n  <Button @click="pause">Pause</Button>\n  <Button @click="reset">Reset</Button>\n</div>',sn="import { ref } from 'vue'\nexport default {\n  setup () {\n    const countdown = ref()\n    const start = () => countdown.value.start()\n    const pause = () => countdown.value.stop()\n    const reset = () => countdown.value.reset()\n\n    return {\n      countdown,\n      start,\n      pause,\n      reset\n    }\n  }\n}";var cn={name:"DemoMasualControl",setup(){const n=(0,g.iH)(),e=()=>n.value.start(),t=()=>n.value.stop(),o=()=>n.value.reset();return{countdown:n,start:e,pause:t,reset:o,templateCode:un,scriptCode:sn}}};const ln=(0,d.Z)(cn,[["render",an]]);var dn=ln;const mn=(0,u.Uk)("Start");function fn(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("AppButton"),l=(0,u.up)("source-code"),d=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(d,{title:"Second Countdown"},{code:(0,u.w5)((()=>[(0,u.Wm)(l,{lang:"xml",code:o.templateCode},null,8,["code"]),(0,u.Wm)(l,{lang:"javascript",code:o.scriptCode},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(c,{class:"countdown-button",disabled:o.inCountdown,onClick:o.handleClick},{default:(0,u.w5)((()=>[o.inCountdown?((0,u.wg)(),(0,u.j4)(s,{key:1,ref:"countdown",time:6e4,"auto-start":!1,format:"ss",onFinish:e[0]||(e[0]=n=>o.inCountdown=!1)},{default:(0,u.w5)((({formatted:n})=>[(0,u.Uk)((0,f.zw)(n)+"s",1)])),_:1},512)):((0,u.wg)(),(0,u.iD)(u.HY,{key:0},[mn],64))])),_:1},8,["disabled","onClick"])])),_:1})}const pn='<Button\n  class="countdown-button"\n  :disabled="inCountdown"\n  @click="handleClick"\n>\n  <template v-if="!inCountdown">Start</template>\n  <countdown\n    v-else\n    ref="countdown"\n    :time="60 * 1000"\n    :auto-start="false"\n    format="ss"\n    @finish="inCountdown = false"\n  >\n    <template #="{ formatted }">{{ formatted }}s</template>\n  </countdown>\n</Button>',wn="import { ref, nextTick } from 'vue'\nexport default {\n  setup () {\n    const countdown = ref()\n    const inCountdown = ref(false)\n    const handleClick = () => {\n      inCountdown.value = true\n      nextTick(() => {\n        countdown.value.reset()\n        countdown.value.start()\n      })\n    }\n    return {\n      countdown,\n      inCountdown,\n      handleClick\n    }\n  }\n}";var vn={name:"DemoSecondCountdown",setup(){const n=(0,g.iH)(),e=(0,g.iH)(!1),t=()=>{e.value=!0,(0,u.Y3)((()=>{n.value.reset(),n.value.start()}))};return{countdown:n,inCountdown:e,handleClick:t,templateCode:pn,scriptCode:wn}}};const gn=(0,d.Z)(vn,[["render",fn]]);var hn=gn;function Cn(n,e,t,o,r,a){const s=(0,u.up)("countdown"),c=(0,u.up)("source-code"),l=(0,u.up)("demo-block");return(0,u.wg)(),(0,u.j4)(l,{title:"Countdown Events"},{code:(0,u.w5)((()=>[(0,u.Wm)(c,{lang:"xml",code:o.templateCode},null,8,["code"]),(0,u.Wm)(c,{lang:"javascript",code:o.scriptCode},null,8,["code"])])),default:(0,u.w5)((()=>[(0,u.Wm)(s,{time:5e3,format:"ss",onChange:o.handleChange,onFinish:o.handleFinish},null,8,["onChange","onFinish"])])),_:1})}const bn='<countdown\n  :time="5 * 1000"\n  format="ss"\n  @change="handleChange"\n  @finish="handleFinish"\n/>',kn="export default {\n  setup () {\n    const handleChange = ({ currentTime, resolved, formatted }) => {\n      console.log(currentTime, resolved, formatted)\n    }\n    const handleFinish = () => {\n      console.log('finished')\n    }\n    return {\n      handleChange,\n      handleFinish\n    }\n  }\n}";var yn={name:"DemoCountdownEvents",setup(){const n=({currentTime:n,resolved:e,formatted:t})=>{console.log(n,e,t)},e=()=>{console.log("finished")};return{handleChange:n,handleFinish:e,templateCode:bn,scriptCode:kn}}};const _n=(0,d.Z)(yn,[["render",Cn]]);var Dn=_n,Hn={name:"CountdownDemo",components:{DemoBasic:P,DemoCustomFormat:R,DemoCustomStyle:nn,DemoMasualControl:dn,DemoSecondCountdown:hn,DemoCountdownEvents:Dn}};const Wn=(0,d.Z)(Hn,[["render",$]]);var xn=Wn,Sn={name:"App",components:{CountdownDemo:xn}};const jn=(0,d.Z)(Sn,[["render",Z]]);var Tn=jn;const On=(0,o.ri)(Tn);On.use(B).mount("#app")},5767:function(n,e,t){var o=t(6866);const r=[{symbol:"D",value:864e5},{symbol:"H",value:36e5},{symbol:"m",value:6e4},{symbol:"s",value:1e3},{symbol:"S",value:100}];function a(n,e,t){const o="~"+e;return n.indexOf(o)>-1?n.split(o).map((n=>a(n,e,t))).join(o):n.replace(new RegExp(e,"g"),String(t))}function u(n,e="HH:mm:ss"){const t={};e.indexOf("~")>-1&&(e=e.replace(/~[DHmsS]/g,""));const o=r.filter((n=>e.indexOf(n.symbol)>-1));for(let r=0,a=o.length;r<a;r++){const{symbol:e,value:u}=o[r],s=1===a?Math.ceil(n/u):Math.floor(n/u);t[e]=s,t[e+e]=s<10?`0${s}`:s,n%=u}return t}function s(n,e="HH:mm:ss"){const t="number"===typeof n?u(n,e):n,o=Object.keys(t).sort(((n,e)=>e.length-n.length));let r=e;return o.forEach((n=>{r=a(r,n,t[n])})),r.indexOf("~")>-1&&(r=r.replace(/~([DHmsS])/g,"$1")),r}var c=o.defineComponent({name:"Countdown",emits:["change","finish"],props:{time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},setup(n,{emit:e}){const t=o.ref(n.time),r=o.ref(u(t.value,n.format)),a=o.ref(!1),c={restTime:n.time,now:0,timer:0},l=o.computed((()=>/s/i.test(n.format)?300:1e3)),d=o.computed((()=>s(r.value,n.format))),i=()=>{a.value||(c.now=Date.now(),c.restTime=t.value,window.clearInterval(c.timer),c.timer=window.setInterval(m,l.value),a.value=!0)},m=()=>{const{restTime:o,now:a}=c,l=Date.now()-a,i=o>l?o-l:0,m=u(i,n.format),p=s(m,n.format);p!==d.value&&(e("change",{currentTime:i,resolved:m,formatted:p}),r.value=m),t.value=i,o<=l&&f()},f=()=>{p(),e("finish")},p=()=>{a.value=!1,window.clearInterval(c.timer)},w=()=>{t.value=c.restTime=n.time,r.value=u(n.time,n.format),p()};return n.autoStart&&i(),{currentTime:t,resolved:r,formatted:d,inCountdown:a,start:i,stop:f,reset:w}},render(){const{currentTime:n,resolved:e,formatted:t}=this;return o.h("div",null,this.$slots.default&&this.$slots.default({currentTime:n,resolved:e,formatted:t})||this.formatted)}});n.exports=c}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return n[o](a,a.exports,t),a.exports}t.m=n,function(){var n=[];t.O=function(e,o,r,a){if(!o){var u=1/0;for(d=0;d<n.length;d++){o=n[d][0],r=n[d][1],a=n[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&a||u>=a)&&Object.keys(t.O).every((function(n){return t.O[n](o[c])}))?o.splice(c--,1):(s=!1,a<u&&(u=a));if(s){n.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=n.length;d>0&&n[d-1][2]>a;d--)n[d]=n[d-1];n[d]=[o,r,a]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){t.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var r,a,u=o[0],s=o[1],c=o[2],l=0;if(u.some((function(e){return 0!==n[e]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(c)var d=c(t)}for(e&&e(o);l<u.length;l++)a=u[l],t.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return t.O(d)},o=self["webpackChunkvue3_countdown_demo"]=self["webpackChunkvue3_countdown_demo"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(646)}));o=t.O(o)})();
//# sourceMappingURL=app.2aea40f0.js.map